/* === Lists === */
$listBlockBorderColor: #e1e1e1;
$listBlockBg: #fff;
$dividerBg: #F7F7F7;
$dividerColor: #8e8e93;
.list-block {
    // margin: 35px 0;
    background-color: #fff;
    font-size: r(15);
    ul {
        background: $listBlockBg;
        list-style: none;
        padding: 0;
        margin: 0;
        position: relative;
        ul {
            padding-left: 45px;
        }
    }

    .align-top, .align-top .item-content, .align-top .item-inner {
        align-items: flex-start;
    }

    .inset {
        margin-left: r(15);
        margin-right: r(15);
        border-radius: 7px;
        .content-block-title {
            margin-left: 0;
            margin-right: 0;
        }
        ul {
            border-radius: 7px;
        }
        li:first-child > a{
            border-radius: 7px 7px 0 0;
        }
        li:last-child > a{
            border-radius: 0 0 7px 7px;
        }
        li:first-child:last-child > a {
            border-radius: 7px;
        }
    }

    // List items
    li {
        box-sizing: border-box;
        position: relative;
    }

    .item-media {
        display: flex;
        flex-shrink: 0;
        flex-wrap: nowrap;
        box-sizing: border-box;
        align-items: center;
        padding-top: 7px;
        padding-bottom: 8px;
        i + i {
            margin-left: 5px;
        }
        i + img {
            margin-left: 5px;
        }
    }
    .item-media + .item-inner {
        margin-left: 15px;
    }
        .inner {
            padding-right: r(15);
            position: relative;
            width: 100%;
            padding-top: r(8);
            padding-bottom: r(8);
            min-height: 44px;
            box-sizing: border-box;
            display: flex;
            flex: 1;
            overflow: hidden;
            justify-content: space-between;
            align-items: center;
            align-self: stretch;
        }
    .item-inner {
        padding-right: r(15);
        position: relative;
        width: 100%;
        padding-top: r(8);
        padding-bottom: r(8);
        min-height: 44px;
        box-sizing: border-box;
        display: flex;
        flex: 1;
        overflow: hidden;
        justify-content: space-between;
        align-items: center;
        align-self: stretch;
        &::after {
          content: '';
          position: absolute;
          left: 0;
          bottom: 0;
          right: auto;
          top: auto;
          height: 1px;
          width: 100%;
          background-color: #e1e1e1;
          display: block;
          z-index: 15;
          transform-origin: 50% 100%;
          @media (-webkit-min-device-pixel-ratio: 2) {
              transform: scaleY(.5);
          }
          @media (-webkit-min-device-pixel-ratio: 3) {
              transform: scaleY(.33);
          }
        }
    }
    .item-title {
        flex-shrink: 1;
        min-width: 0;
        white-space: nowrap;
        position: relative;
        overflow: hidden;
        text-overflow: ellipsis;
        max-width: 100%;
    }
    .item-after {
        white-space: nowrap;
        color: #8e8e93;
        flex-shrink: 0;
        margin-left: auto;
        padding-left: 5px;
        display: flex;
        max-height: 28px;
    }
    .smart-select .item-after, .autocomplete-opener .item-after {
        max-width: 70%;
        overflow: hidden;
        text-overflow: ellipsis;
        position: relative;
        display: block;
    }
    .item-actions {
        margin-left: auto;
        padding-left: 15px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        a {
            min-width: 23px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition-duration: 300ms;
            html:not(.watch-active-state) &:active, &.active-state {
                opacity: 0.3;
                transition-duration: 0;
            }
            + a {
                margin-left: 8px;
            }
        }
    }
    .item-after + .item-actions {
        margin-left: 0;
    }
    .item-link, .list-button {
        transition-duration: 300ms;
        display: block;
        color: inherit;

        .item-inner {
            padding-right: 35px;
            background-size: 10px 20px;
            background-repeat: no-repeat;
            background-position: 95% center;
        }
        html:not(.watch-active-state) &:active, &.active-state {
            transitio-duration: 0;
            background-color: #d9d9d9;

        }
    }
    .list-button {
        padding: 0 15px;
        text-align: center;
        color: $themeColor;
        display: block;
        line-height: 43px;
    }
    .item-content {
        box-sizing: border-box;
        padding-left: r(15);
        min-height: 44px;
        display: flex;
        justify-content: space-between;
        align-items: center;
    }
    // Label after List block
    .list-block-label {
        margin: 10px 0 35px;
        padding: 0 15px;
        font-size: 14px;
        color: #8f8f94;
    }


    .item-subtitle {
        font-size: 15px;
        position: relative;
        overflow: hidden;
        white-space: nowrap;
        max-width: 100%;
        text-overflow:ellipsis;
    }
    .item-text {
        font-size: 15px;
        color: #8e8e93;
        line-height: 21px;
        position: relative;
        overflow: hidden;
        height: 42px;
        text-overflow:ellipsis;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        display: -webkit-box;
    }
    &.media-list, li.media-item {
        .item-title {
            font-weight: 500;
        }
        .item-inner {
            display: block;
            padding-top: r(10);
            padding-bottom: r(9);
            align-self: stretch;

        }
        .item-link .item-inner {
            background: none;
            padding-right: 15px;
        }
        .item-link .item-title-row {
            padding-right: 20px;
            background: no-repeat right center;
            background-size: 10px 20px;
        }
        .item-media {
            padding-top: 9px;
            padding-bottom: 10px;
            img {
                display: block;
            }
        }
        .item-title-row {
          display: flex;
          justify-content: space-between;
        }
        .item-content > .item-after {
            margin-right: 15px;
            margin-left: 15px;
        }
    }
    .list-group {
        ul {
            &:after, &:before {
                z-index: 25;
            }
        }
    }
    .item-divider, .list-group-title {
        background: $dividerBg;
        margin-top: -1px;
        padding: 4px 15px;
        white-space: nowrap;
        position: relative;
        max-width: 100%;
        text-overflow: ellipsis;
        overflow: hidden;
        color: $dividerColor;
        z-index: 15;
    }
    .list-group-title {
        position: relative;
        position: -webkit-sticky;
        position: -moz-sticky;
        position: sticky;
        top: 0px;
        z-index: 20;
        margin-top: 0;
    }
    // Sortable
    .sortable-handler {
        position: absolute;
        right: 0;
        top: 0;
        bottom: 1px;
        z-index: 10;
        background-repeat: no-repeat;
        background-size: 18px 12px;
        background-position: center;
        width: 35px;
        opacity: 0;
        visibility: hidden;
        cursor: pointer;
        transition-duration: 300ms;
    }
    &.sortable {
        .item-inner {
            transition-duration: 300ms;
        }
    }
    &.sortable-opened {
        .sortable-handler {
            visibility: visible;
            opacity: 1;
        }
        .item-inner, .item-link .item-inner {
            padding-right: 35px;
        }
        .item-link .item-inner, .item-link .item-title-row {
            background-image: none;
        }
    }
    &.sortable-sorting {
        li {
            transition-duration: 300ms;
        }
    }
    li.sorting {
        z-index: 50;
        background: rgba(255,255,255,0.8);
        box-shadow: 0px 2px 8px rgba(0,0,0,0.6);
        transition-duration: 0;
    }
}
